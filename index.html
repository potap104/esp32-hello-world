<h1>Firmware</h1><ul>
<li><a href="firmware/bluedroid_gatt_server.bin">bluedroid_gatt_server.bin</a></li>
<li><a href="firmware/bluedroid_gatt_server.elf">bluedroid_gatt_server.elf</a></li>
<li><a href="firmware/flasher_args.json">flasher_args.json</a></li>
</ul>
<h2>–ü—Ä–æ—à–∏—Ç—å ESP32 –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞</h2>
<button onclick="installFirmware()">üîå –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∏ –ø—Ä–æ—à–∏—Ç—å</button>
<script type="module">
  import { flash } from 'https://unpkg.com/esptool-js@0.9.1/dist/web/index.min.js';

  async function installFirmware() {
    try {
      const port = await navigator.serial.requestPort();
      await port.open({ baudRate: 115200 });

      const file = await fetch("firmware/firmware.bin").then(r => r.arrayBuffer());

      await flash(port, [
        {
          offset: 0x1000,
          data: new Uint8Array(file)
        }
      ]);
      alert("‚úÖ –ü—Ä–æ—à–∏–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!");
    } catch (e) {
      alert("‚ùå –û—à–∏–±–∫–∞: " + e.message);
      console.error(e);
    }
  }
</script>
